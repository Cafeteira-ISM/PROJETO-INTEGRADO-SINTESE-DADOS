class Biblioteca:
    def __init__(self):
        self.acervo_livros = {}
        self.lista_usuarios = {}

    def cadastrar_livro(self, titulo, autor, ano_publicacao, total_copias):
        if titulo in self.acervo_livros:
            print(f"Erro: O livro '{titulo}' já está cadastrado na biblioteca.")
            return False
        
        try:
            ano_publicacao = int(ano_publicacao)
            total_copias = int(total_copias)
            if ano_publicacao <= 0 or total_copias <= 0:
                print("Erro: Ano de publicação e número de cópias devem ser maiores que zero.")
                return False
        except ValueError:
            print("Erro: Ano de publicação e número de cópias devem ser números inteiros válidos.")
            return False

        novo_livro = Livro(titulo, autor, ano_publicacao, total_copias)
        self.acervo_livros[titulo] = novo_livro
        print(f"Livro '{titulo}' cadastrado com sucesso!")
        return True

    def cadastrar_usuario(self, nome, numero_identificacao, contato):
        if numero_identificacao in self.lista_usuarios:
            print(f"Erro: O usuário com ID '{numero_identificacao}' já está cadastrado.")
            return False
        
        novo_usuario = Usuario(nome, numero_identificacao, contato)
        self.lista_usuarios[numero_identificacao] = novo_usuario
        print(f"Usuário '{nome}' (ID: {numero_identificacao}) cadastrado com sucesso!")
        return True

    def emprestar_livro(self, id_usuario, titulo_livro):
        print(f"Funcionalidade de empréstimo para '{titulo_livro}' para o usuário '{id_usuario}' a ser implementada.")
        pass

    def devolver_livro(self, id_usuario, titulo_livro):
        print(f"Funcionalidade de devolução para '{titulo_livro}' por '{id_usuario}' a ser implementada.")
        pass

    def consultar_livro(self, criterio, valor):
        print(f"Funcionalidade de consulta por {criterio}: '{valor}' a ser implementada.")
        pass

    def gerar_relatorios(self, tipo_relatorio):
        print(f"Funcionalidade de relatório '{tipo_relatorio}' a ser implementada.")
        pass
    
    def exibir_menu(self):
        print("\n--- MENU DA BIBLIOTECA ---")
        print("1. Cadastrar Livro")
        print("2. Cadastrar Usuário")
        print("3. Emprestar Livro")
        print("4. Devolver Livro")
        print("5. Consultar Livros")
        print("6. Gerar Relatórios")
        print("7. Sair")
        print("--------------------------")

    def iniciar(self):
        while True:
            self.exibir_menu()
            opcao = input("Escolha uma opção: ")

            if opcao == '1':
                titulo = input("Título do livro: ")
                autor = input("Autor: ")
                ano = input("Ano de Publicação: ")
                copias = input("Número de Cópias: ")
                self.cadastrar_livro(titulo, autor, ano, copias)
            elif opcao == '2':
                nome = input("Nome do usuário: ")
                identificacao = input("Número de Identificação: ")
                contato = input("Contato: ")
                self.cadastrar_usuario(nome, identificacao, contato)
            elif opcao == '3':
                id_usuario = input("ID do Usuário: ")
                titulo_livro = input("Título do Livro: ")
                self.emprestar_livro(id_usuario, titulo_livro)
            elif opcao == '4':
                id_usuario = input("ID do Usuário: ")
                titulo_livro = input("Título do Livro: ")
                self.devolver_livro(id_usuario, titulo_livro)
            elif opcao == '5':
                criterio = input("Consultar por (titulo/autor/ano): ").lower()
                valor = input(f"Digite o {criterio}: ")
                self.consultar_livro(criterio, valor)
            elif opcao == '6':
                tipo = input("Tipo de relatório (disponiveis/emprestados/usuarios): ").lower()
                self.gerar_relatorios(tipo)
            elif opcao == '7':
                print("Saindo do sistema. Até mais!")
                break
            else:
                print("Opção inválida. Por favor, tente novamente.")

if __name__ == "__main__":
    biblioteca = Biblioteca()
    biblioteca.iniciar()